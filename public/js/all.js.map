{"version":3,"sources":["index.js"],"names":["clinicData","area","name","BusinessHours","phone","address","imgIndex","imgList","doctors","app","Vue","data","areaList","areaSelected","doctorSelected","showNear","nearClinic","computed","doctorList","doctorArr","forEach","clinic","index","doctor","some","doctorName","push","clinicList","_this","filter","created","navigator","geolocation","originPosition","getCurrentPosition","position","google","maps","LatLng","coords","latitude","longitude","destinationArr","map","service","DistanceMatrixService","getDistanceMatrix","origins","destinations","travelMode","googlemap","alert","mounted","methods","response","status","distance","rows","elements","value","tempList","JSON","parse","stringify","sort","a","b","$mount"],"mappings":"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","file":"all.js","sourcesContent":["let clinicData = [\n  {\n    area: \"北區\",\n    name: \"忠孝診所\",\n    BusinessHours: [\"周一到周五 09:30-20:00\", \"周六 09:30-18:30\"],\n    phone: \"(02)6630-9918\",\n    address: \"台北市中正區忠孝西路一段50號27樓\",\n    imgIndex: 0,\n    imgList: [\n      \"http://fakeimg.pl/215x135/ccc/000000/?text=img1\",\n      \"http://fakeimg.pl/215x135/ccc/000000/?text=img2\",\n      \"http://fakeimg.pl/215x135/ccc/000000/?text=img3\",\n      \"http://fakeimg.pl/215x135/ccc/000000/?text=img4\",\n      \"http://fakeimg.pl/215x135/ccc/000000/?text=img5\",\n    ],\n    doctors: [\"唐蓉里\", \"張益誠\", \"唐瑄伶\", \"陳眉穎\", \"陳炯瑜\", \"林凱信\"],\n  },\n  {\n    area: \"北區\",\n    name: \"板橋診所\",\n    BusinessHours: [\"周一到周五 10:30-20:00\", \"周六 10:30-18:30\"],\n    phone: \"(02)2964-7651\",\n    address: \"新北市板橋區三民路二段35巷2號\",\n    imgIndex: 0,\n    imgList: [\n      \"http://fakeimg.pl/215x135/ccc/000000/?text=img1\",\n      \"http://fakeimg.pl/215x135/ccc/000000/?text=img2\",\n      \"http://fakeimg.pl/215x135/ccc/000000/?text=img3\",\n      \"http://fakeimg.pl/215x135/ccc/000000/?text=img4\",\n      \"http://fakeimg.pl/215x135/ccc/000000/?text=img5\",\n    ],\n    doctors: [\"唐瑄伶\"],\n  },\n  {\n    area: \"中區\",\n    name: \"新竹診所\",\n    BusinessHours: [\"周一到周五 10:30-20:00\", \"周六 10:30-18:30\"],\n    phone: \"(03)526-3012\",\n    address: \"新竹市水田街12號 1- 3樓\",\n    imgIndex: 0,\n    imgList: [\n      \"http://fakeimg.pl/215x135/ccc/000000/?text=img1\",\n      \"http://fakeimg.pl/215x135/ccc/000000/?text=img2\",\n      \"http://fakeimg.pl/215x135/ccc/000000/?text=img3\",\n      \"http://fakeimg.pl/215x135/ccc/000000/?text=img4\",\n      \"http://fakeimg.pl/215x135/ccc/000000/?text=img5\",\n    ],\n    doctors: [\"唐瑄伶\", \"陳思帆\"],\n  },\n  {\n    area: \"中區\",\n    name: \"中港診所\",\n    BusinessHours: [\"周一到周五 09:30-20:00\", \"周六 09:30-18:30\"],\n    phone: \"(04)2326-9066\",\n    address: \"台中市西區台灣大道二段300號5F\",\n    imgIndex: 0,\n    imgList: [\n      \"http://fakeimg.pl/215x135/ccc/000000/?text=img1\",\n      \"http://fakeimg.pl/215x135/ccc/000000/?text=img2\",\n      \"http://fakeimg.pl/215x135/ccc/000000/?text=img3\",\n      \"http://fakeimg.pl/215x135/ccc/000000/?text=img4\",\n      \"http://fakeimg.pl/215x135/ccc/000000/?text=img5\",\n    ],\n    doctors: [\"唐瑄伶\", \"林凱信\", \"陳志衔\", \"張益誠\", \"陳炯瑜\", \"陳思帆\"],\n  },\n  {\n    area: \"南區\",\n    name: \"府城診所\",\n    BusinessHours: [\"周一到周五 10:30-20:00\", \"周六 10:30-18:30\"],\n    phone: \"(06)222-8998\",\n    address: \"台南市南區夏林路63號\",\n    imgIndex: 0,\n    imgList: [\n      \"http://fakeimg.pl/215x135/ccc/000000/?text=img1\",\n      \"http://fakeimg.pl/215x135/ccc/000000/?text=img2\",\n      \"http://fakeimg.pl/215x135/ccc/000000/?text=img3\",\n      \"http://fakeimg.pl/215x135/ccc/000000/?text=img4\",\n      \"http://fakeimg.pl/215x135/ccc/000000/?text=img5\",\n    ],\n    doctors: [\"楊友華\", \"陳炯瑜\", \"陳思帆\", \"張益誠\", \"孫一峯\", \"陳志衔\"],\n  },\n  {\n    area: \"南區\",\n    name: \"明誠診所\",\n    BusinessHours: [\"周一到周五 09:30-20:00\", \"周六 09:30-18:30\"],\n    phone: \"(07)342-8181\",\n    address: \"高雄市三民區明誠一路528號\",\n    imgIndex: 0,\n    imgList: [\n      \"http://fakeimg.pl/215x135/ccc/000000/?text=img1\",\n      \"http://fakeimg.pl/215x135/ccc/000000/?text=img2\",\n      \"http://fakeimg.pl/215x135/ccc/000000/?text=img3\",\n      \"http://fakeimg.pl/215x135/ccc/000000/?text=img4\",\n      \"http://fakeimg.pl/215x135/ccc/000000/?text=img5\",\n    ],\n    doctors: [],\n  },\n];\n\nconst app = new Vue({\n  data() {\n    return {\n      clinicData: clinicData,\n      areaList: [\"北區\", \"中區\", \"南區\"],\n      areaSelected: \"\",\n      doctorSelected: \"\",\n      showNear: false,\n      nearClinic: {},\n    };\n  },\n  computed: {\n    doctorList() {\n      let doctorArr = [];\n      this.clinicData.forEach(function (clinic, index) {\n        clinic.doctors.forEach(function (doctor) {\n          if (\n            !doctorArr.some(function (doctorName) {\n              return doctorName == doctor;\n            })\n          ) {\n            doctorArr.push(doctor);\n          }\n        });\n      });\n      return doctorArr;\n    },\n    clinicList() {\n      let _this = this;\n      return this.clinicData.filter(function (clinic) {\n        return (\n          (clinic.area == _this.areaSelected || _this.areaSelected == \"\") &&\n          (clinic.doctors.some(function (doctor) {\n            return doctor == _this.doctorSelected;\n          }) ||\n            _this.doctorSelected == \"\")\n        );\n      });\n    },\n  },\n  created() {\n    let _this = this;\n    if (navigator.geolocation) {\n      let originPosition;\n      // 執行要權限的function\n      navigator.geolocation.getCurrentPosition(function (position) {\n        let originPosition = new google.maps.LatLng(\n          position.coords.latitude,\n          position.coords.longitude\n        );\n        let destinationArr = _this.clinicData.map(function (clinic) {\n          return clinic.address;\n        });\n        let service = new google.maps.DistanceMatrixService();\n        service.getDistanceMatrix(\n          {\n            origins: [originPosition],\n            destinations: destinationArr,\n            travelMode: \"DRIVING\",\n          },\n          _this.googlemap\n        );\n      });\n    } else {\n      alert(\"Sorry, 你的裝置不支援地理位置功能。\");\n    }\n  },\n  mounted() {},\n  methods: {\n    googlemap(response, status) {\n      this.clinicData.forEach(function (clinic, index) {\n        clinic.distance = response.rows[0].elements[index].distance.value;\n      });\n\n      let tempList = JSON.parse(JSON.stringify(this.clinicData));\n      tempList = tempList.sort((a, b) => {\n        return a.distance > b.distance ? 1 : -1;\n      });\n      this.nearClinic = tempList[0];\n      this.showNear = true;\n    },\n  },\n});\n\n// Vue.component(\"clinicItem\", {\n//   template: `\n//     <div class=\"clinic-item\">${clinicTest}\n//     </div>\n//   `,\n//   props: [\"clinic-test\"],\n//   data() {\n//     return {};\n//   },\n// });\n\napp.$mount(\"#app\");\n"]}