{"version":3,"sources":["index.js"],"names":["clinicData","area","name","BusinessHours","phone","address","imgIndex","imgList","doctors","app","Vue","data","areaList","areaSelected","doctorSelected","showNear","nearClinic","computed","doctorList","doctorArr","this","forEach","clinic","index","doctor","some","doctorName","push","clinicList","_this","filter","created","navigator","geolocation","getCurrentPosition","position","originPosition","google","maps","LatLng","coords","latitude","longitude","destinationArr","map","DistanceMatrixService","getDistanceMatrix","origins","destinations","travelMode","googlemap","alert","mounted","methods","response","status","distance","rows","elements","value","tempList","JSON","parse","stringify","sort","a","b","$mount"],"mappings":"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","file":"all.js","sourcesContent":["let clinicData = [\n  // 診所資料開始----------------------------------------------------------------------------\n  {\n    area: \"北區\",\n    name: \"忠孝診所\",\n    BusinessHours: [\"周一到周五 09:30-20:00\", \"周六 09:30-18:30\"],\n    phone: \"(02)6630-9918\",\n    address: \"台北市中正區忠孝西路一段50號27樓\",\n    imgIndex: 0,\n    imgList: [\n      \"https://www.icareyou.com.tw/wp-content/uploads/2021/10/clinic1-1-scaled.jpg\",\n      \"https://www.icareyou.com.tw/wp-content/uploads/2021/10/clinic1-2-scaled.jpeg\",\n      \"https://www.icareyou.com.tw/wp-content/uploads/2021/10/clinic1-3-scaled.jpeg\",\n      \"https://www.icareyou.com.tw/wp-content/uploads/2021/10/clinic1-4-scaled.jpeg\",\n      \"https://www.icareyou.com.tw/wp-content/uploads/2021/10/clinic1-5-scaled.jpg\",\n    ],\n    doctors: [\"唐蓉里\", \"張益誠\", \"唐瑄伶\", \"陳眉穎\", \"陳炯瑜\", \"林凱信\"],\n  },\n  // 診所資料結束----------------------------------------------------------------------------\n  // 診所資料開始----------------------------------------------------------------------------\n  {\n    area: \"北區\",\n    name: \"板橋診所\",\n    BusinessHours: [\"周一到周五 10:30-20:00\", \"周六 10:30-18:30\"],\n    phone: \"(02)2964-7651\",\n    address: \"新北市板橋區三民路二段35巷2號\",\n    imgIndex: 0,\n    imgList: [\n      \"https://www.icareyou.com.tw/wp-content/uploads/2021/10/clinic2-1-scaled.jpg\",\n      \"https://www.icareyou.com.tw/wp-content/uploads/2021/10/clinic2-2-scaled.jpg\",\n      \"https://www.icareyou.com.tw/wp-content/uploads/2021/10/clinic2-3-scaled.jpg\",\n      \"https://www.icareyou.com.tw/wp-content/uploads/2021/10/clinic2-4-scaled.jpg\",\n      \"https://www.icareyou.com.tw/wp-content/uploads/2021/10/clinic2-5-scaled.jpg\",\n    ],\n    doctors: [\"唐瑄伶\"],\n  },\n  // 診所資料結束----------------------------------------------------------------------------\n  // 診所資料開始----------------------------------------------------------------------------\n  {\n    area: \"中區\",\n    name: \"新竹診所\",\n    BusinessHours: [\"周一到周五 10:30-20:00\", \"周六 10:30-18:30\"],\n    phone: \"(03)526-3012\",\n    address: \"新竹市水田街12號 1- 3樓\",\n    imgIndex: 0,\n    imgList: [\n      \"https://www.icareyou.com.tw/wp-content/uploads/2021/10/clinic3-1-scaled.jpg\",\n      \"https://www.icareyou.com.tw/wp-content/uploads/2021/10/clinic3-2-scaled.jpg\",\n      \"https://www.icareyou.com.tw/wp-content/uploads/2021/10/clinic3-3-scaled.jpg\",\n      \"https://www.icareyou.com.tw/wp-content/uploads/2021/10/clinic3-4-scaled.jpg\",\n      \"https://www.icareyou.com.tw/wp-content/uploads/2021/10/clinic3-5.jpg\",\n    ],\n    doctors: [\"唐瑄伶\", \"陳思帆\"],\n  },\n  // 診所資料結束----------------------------------------------------------------------------\n  // 診所資料開始----------------------------------------------------------------------------\n  {\n    area: \"中區\",\n    name: \"中港診所\",\n    BusinessHours: [\"周一到周五 09:30-20:00\", \"周六 09:30-18:30\"],\n    phone: \"(04)2326-9066\",\n    address: \"台中市西區台灣大道二段300號5F\",\n    imgIndex: 0,\n    imgList: [\n      \"https://www.icareyou.com.tw/wp-content/uploads/2021/10/clinic4-1.jpg\",\n      \"https://www.icareyou.com.tw/wp-content/uploads/2021/10/clinic4-2.jpg\",\n      \"https://www.icareyou.com.tw/wp-content/uploads/2021/10/clinic4-3.jpg\",\n      \"https://www.icareyou.com.tw/wp-content/uploads/2021/10/clinic4-4.jpg\",\n      \"https://www.icareyou.com.tw/wp-content/uploads/2021/10/clinic4-5.jpg\",\n    ],\n    doctors: [\"唐瑄伶\", \"林凱信\", \"陳志衔\", \"張益誠\", \"陳炯瑜\", \"陳思帆\"],\n  },\n  // 診所資料結束----------------------------------------------------------------------------\n  // 診所資料開始----------------------------------------------------------------------------\n  {\n    area: \"南區\",\n    name: \"府城診所\",\n    BusinessHours: [\"周一到周五 10:30-20:00\", \"周六 10:30-18:30\"],\n    phone: \"(06)222-8998\",\n    address: \"台南市南區夏林路63號\",\n    imgIndex: 0,\n    imgList: [\n      \"http://fakeimg.pl/215x135/ccc/000000/?text=clinic1\",\n      \"http://fakeimg.pl/215x135/ccc/000000/?text=clinic2\",\n      \"http://fakeimg.pl/215x135/ccc/000000/?text=clinic3\",\n      \"http://fakeimg.pl/215x135/ccc/000000/?text=clinic4\",\n      \"http://fakeimg.pl/215x135/ccc/000000/?text=clinic5\",\n    ],\n    doctors: [\"楊友華\", \"陳炯瑜\", \"陳思帆\", \"張益誠\", \"孫一峯\", \"陳志衔\"],\n  },\n  // 診所資料結束----------------------------------------------------------------------------\n  // 診所資料開始----------------------------------------------------------------------------\n  {\n    area: \"南區\",\n    name: \"明誠診所\",\n    BusinessHours: [\"周一到周五 09:30-20:00\", \"周六 09:30-18:30\"],\n    phone: \"(07)342-8181\",\n    address: \"高雄市三民區明誠一路528號\",\n    imgIndex: 0,\n    imgList: [\n      \"https://www.icareyou.com.tw/wp-content/uploads/2021/10/clinic6-1.jpg\",\n      \"https://www.icareyou.com.tw/wp-content/uploads/2021/10/clinic6-2.jpg\",\n      \"https://www.icareyou.com.tw/wp-content/uploads/2021/10/clinic6-3.jpg\",\n      \"https://www.icareyou.com.tw/wp-content/uploads/2021/10/clinic6-4.jpg\",\n      \"https://www.icareyou.com.tw/wp-content/uploads/2021/10/clinic6-5.jpg\",\n    ],\n    doctors: [],\n  },\n  // 診所資料結束----------------------------------------------------------------------------\n];\n\nconst app = new Vue({\n  data() {\n    return {\n      clinicData: clinicData,\n      areaList: [\"北區\", \"中區\", \"南區\"],\n      areaSelected: \"\",\n      doctorSelected: \"\",\n      showNear: false,\n      nearClinic: {},\n    };\n  },\n  computed: {\n    doctorList() {\n      let doctorArr = [];\n      this.clinicData.forEach(function (clinic, index) {\n        clinic.doctors.forEach(function (doctor) {\n          if (\n            !doctorArr.some(function (doctorName) {\n              return doctorName == doctor;\n            })\n          ) {\n            doctorArr.push(doctor);\n          }\n        });\n      });\n      return doctorArr;\n    },\n    clinicList() {\n      let _this = this;\n      return this.clinicData.filter(function (clinic) {\n        return (\n          (clinic.area == _this.areaSelected || _this.areaSelected == \"\") &&\n          (clinic.doctors.some(function (doctor) {\n            return doctor == _this.doctorSelected;\n          }) ||\n            _this.doctorSelected == \"\")\n        );\n      });\n    },\n  },\n  created() {\n    let _this = this;\n    if (navigator.geolocation) {\n      let originPosition;\n      // 執行要權限的function\n      navigator.geolocation.getCurrentPosition(function (position) {\n        let originPosition = new google.maps.LatLng(\n          position.coords.latitude,\n          position.coords.longitude\n        );\n        let destinationArr = _this.clinicData.map(function (clinic) {\n          return clinic.address;\n        });\n        let service = new google.maps.DistanceMatrixService();\n        service.getDistanceMatrix(\n          {\n            origins: [originPosition],\n            destinations: destinationArr,\n            travelMode: \"DRIVING\",\n          },\n          _this.googlemap\n        );\n      });\n    } else {\n      alert(\"Sorry, 你的裝置不支援地理位置功能。\");\n    }\n  },\n  mounted() {},\n  methods: {\n    googlemap(response, status) {\n      this.clinicData.forEach(function (clinic, index) {\n        clinic.distance = response.rows[0].elements[index].distance.value;\n      });\n\n      let tempList = JSON.parse(JSON.stringify(this.clinicData));\n      tempList = tempList.sort((a, b) => {\n        return a.distance > b.distance ? 1 : -1;\n      });\n      this.nearClinic = tempList[0];\n      this.showNear = true;\n    },\n  },\n});\n\n// Vue.component(\"clinicItem\", {\n//   template: `\n//     <div class=\"clinic-item\">${clinicTest}\n//     </div>\n//   `,\n//   props: [\"clinic-test\"],\n//   data() {\n//     return {};\n//   },\n// });\n\napp.$mount(\"#clinic-app\");\n"]}